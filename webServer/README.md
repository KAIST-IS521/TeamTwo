# Web Server

## Pre-install ( Node.js )
	sudo apt-get install nodejs
	sudo apt-get install npm

## Install module dependencies:
	cd webServer && npm install

## Configure
	configure following info on your platform in `./routes/config.js`
'''
	// set your PGP password
	c.PASSWORD = '******';

	// set your database connection info
	c.database = {
	  host : 'localhost',
	  database : 'shoppingmalldb',
	  user: 'root',
	  password : '******'
	};
'''

## Run the app:
	sudo DEBUG=webserver:* npm start

## Directory & File info

### /bank

* make_account.py

This script makes a temporary account for buying items to be paid.
Output : bank_account, bank_pw  ex) ADKxjqoML8oGJ AblBKXftQAIiA

* check_transaction.py

This script checks whether the user send the money to the account or not.
Input : bank_account, bank_pw, amount(to be paid)
Output : success or fail

* remove_account.py

This script removes the temporary account when the user does not send the money.

### /bin

* www

This file is generated by the Node.js Express Web App engine for configuration.

### /public

* css

This directory includes static *.css files.

* js

This directory includes static *.js files.

* pics

This directory includes static image files.

### /routes

* bank.js

This implements the callback function which is executed 1 minute after purchasing item.
But it could not be implemented completely because other team's dependency...
So we just implemented the simple scenario with dummy data...
and we reported this situation to the professor...
He said these kind of integration issue will be continued next week.

* cart.js

This file implement business logic for shopping mall page.

* config.js

This file contains configuration data.

* db.js

This file contains common code for the database query.

* main.js

This includes the main pages functions such as sign-up, login, logout, and listing items.

* mypage.js

This implements mypage for displaying all messages sent to the admin.

* order.js

This implements order history page.

* product.js

This implements business logic related to the items.

### /views

* cart.ejs

This include rendering logic and HTML for shopping cart page.

* main.ejs

This include rendering logic and HTML for main page.

* mypage.ejs

This include rendering logic and HTML for mypage.

* order.ejs

This include rendering logic and HTML for order history page.

* register.ejs

This include rendering logic and HTML for registration page.

### /

* app.js

This file is generated by the Node.js Express Web App engine for setting web app.

* auth.py

This file is useful tool(script) for the user.
This makes it easy to decrypt data from server and encrypt.

* package.json

This file defines module dependency for node.js.

* run.sh

This script runs the web app.